<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/head :: head('Usuarios')"></head>

<body class="hold-transition sidebar-mini">
    <div class="wrapper">
        <div th:replace="fragments/header :: header"></div>
        <div th:replace="fragments/sidebar :: sidebar"></div>

        <div class="content-wrapper">
            <div class="content-header">
                <div class="container-fluid">
                    <h1 class="m-0"><i class="fas fa-users-cog"></i> Usuarios</h1>
                </div>
            </div>

            <section class="content">
                <div class="container-fluid">
                    <div class="card">
                        <div class="card-body">
                            <a th:href="@{/admin/usuarios/nuevo}" class="btn btn-primary mb-3"><i
                                    class="fas fa-plus"></i> Nuevo Usuario</a>
                            <table class="table table-bordered datatable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Usuario</th>
                                        <th>Nombre</th>
                                        <th>Email</th>
                                        <th>Rol</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="u : ${usuarios}">
                                        <td th:text="${u.id}">1</td>
                                        <td th:text="${u.username}">admin</td>
                                        <td th:text="${u.nombre}">Admin</td>
                                        <td th:text="${u.email}">correo@dominio.com</td>
                                        <td th:text="${u.rol.nombre}">ADMIN</td>
                                        <td>
                                            <span
                                                th:classappend="${u.activo} ? 'badge badge-success' : 'badge badge-danger'"
                                                th:text="${u.activo ? 'Activo' : 'Inactivo'}"></span>
                                        </td>
                                        <td>
                                            <a th:href="@{/admin/usuarios/editar/{id}(id=${u.id})}"
                                                class="btn btn-sm btn-warning"><i class="fas fa-edit"></i></a>
                                            <a th:href="@{/admin/usuarios/cambiar-estado/{id}(id=${u.id})}"
                                                class="btn btn-sm btn-secondary"><i class="fas fa-toggle-on"></i></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div th:replace="fragments/footer :: footer"></div>
    </div>
    <div th:replace="fragments/scripts :: scripts"></div>
</body>

</html>